module TobogganTrajectory.Tests

open NUnit.Framework
open Program

let mapTemplate =
    [| "..##.........##.........##.........##.........##.........##......."
       "#...#...#..#...#...#..#...#...#..#...#...#..#...#...#..#...#...#.."
       ".#....#..#..#....#..#..#....#..#..#....#..#..#....#..#..#....#..#."
       "..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#..#.#...#.#"
       ".#...##..#..#...##..#..#...##..#..#...##..#..#...##..#..#...##..#."
       "..#.##.......#.##.......#.##.......#.##.......#.##.......#.##....."
       ".#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#.#.#.#....#"
       ".#........#.#........#.#........#.#........#.#........#.#........#"
       "#.##...#...#.##...#...#.##...#...#.##...#...#.##...#...#.##...#..."
       "#...##....##...##....##...##....##...##....##...##....##...##....#"
       ".#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#.#..#...#.#" |]

[<TestCase(1, 1, 2)>]
[<TestCase(3, 1, 7)>]
[<TestCase(5, 1, 3)>]
[<TestCase(7, 1, 4)>]
[<TestCase(1, 2, 2)>]
let countTrees right down expected =
    let slope = { Right = right; Down = down }
    let actual = countTrees mapTemplate slope
    Assert.AreEqual(expected, actual)
